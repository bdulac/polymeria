<link rel="import" 
  href="uml-member.html">
<polymer-element name="uml-ownedAttribute" extends="uml-member" attributes="type">
	<template>
		<style>
			:host {
				overflow: auto;
			}
			.owned-attribute {
				display: block;
			}
			.owned-attribute .name {
			}
			.owned-attribute .visibility {
				color: #7c4dff;
				min-width: 40px;
				text-align: center;
			}
			.attribute-type {
			}
			.attribute-type .name {
				color: #7c4dff;
			}
		</style>
		<div class="owned-attribute" layout vertical left>
			<span class="name">
				<span id="visibility" class="visibility">
					<template bind if="{{ visibility == 'private' }}">
					-
					</template>
					<template bind if="{{ visibility == 'protected' }}">
					#
					</template>
					<template bind if="{{ visibility == 'public' }}">
					+
					</template>
				</span>
				{{ name }}
				<span id="type" class="attribute-type">
				: <span id="typeName" class="name"></span>
				</span>
			</span>
			<content></content>   
		</div>
	</template>
	<script>
	Polymer('uml-ownedAttribute', {
		domReady: function() {
			this.super();
			if(this.type) {
				$(this.$.type).show();
				var typeComponent = document.getElementById(this.type);
				if(typeComponent) {
					var typeUmlElement = typeComponent.umlElement;
					if(typeUmlElement) {
						$(this.$.typeName).text(typeUmlElement.simpleName);
					}
					else {
						alert(
							"Invalid DOM: ID " + this.type 
							+ " is not a Polymeria UML component"
						)
					}
				}
				else {
					alert("Invalid DOM: ID " + this.type + " not found")
				}
			}
			else {
				$(this.$.type).hide();
			}
		}
	});
	</script>
</polymer-element>