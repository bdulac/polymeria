<link rel="import" 
  href="uml-element.html">
<polymer-element name="uml-packagedElement" extends="uml-element" attributes="type client supplier">  
	<template>
		<link rel="stylesheet" href="../jquery-ui/themes/humanity/jquery-ui.css">
		<link rel="stylesheet" type="text/css" href="colors.css" >
		<link rel="stylesheet" type="text/css" href="elements.css" >
		<style>
			:host {
			}
		</style>
		<div>
		<template bind if="{{ type == 'uml-Package' }}">
			<div id="element" class="package" vertical layout>
				<div class="name primary2-background">
				{{ name }}
				</div>
				<div class="content primary2-background">
					<content></content>
				</div>
			</div>
		</template>
		<template bind if="{{ (type == 'uml-Class') || (type == 'uml-Interface') }}">
			<div id="element" class="class white-background" layout vertical>
				<div class="name">
				{{ name }}
				</div>
				<div class="content">
					<content></content>
				</div>
			</div>
		</template>
		</div>
	</template>
	<script src="../jquery/dist/jquery.min.js">
    </script>
    <script src="../jquery-ui/jquery-ui.min.js">
    </script>
    <script src="./polymeria.js">
    </script>
	<script>
Polymer('uml-packagedElement', {
	ready: function() {
		new UmlElement(this);
		// An observer pattern attached to draggable elements could notify
		// the depency to be redrawn
		$(this.$.element).draggable({
			start: function() {
			},
			drag: function() {
				drawLine();
			},
			stop: function() {
			}
		});
		function drawLine() {
			console.log("---" + this);
			/*
			if(this.umlElement.webComponent.type == 'uml-Dependency') {
				var source = document.getElementById(this.umlElement.webComponent.supplier);
				var target = document.getElementById(this.umlElement.webComponent.client);
				$().dependency.drawRelationship($(source), $(target));
				//$().dependency._readjustHTML5CanvasHeight();			
				//$().dependency._drawLineBetweenElements($(source), $(target));
				
			}
			*/
		}
		
	}, 
	domReady: function() {
		if(this.umlElement.webComponent.type == 'uml-Dependency') {
			var source = document.getElementById(this.umlElement.webComponent.supplier);
			var target = document.getElementById(this.umlElement.webComponent.client);
			$().dependency.drawRelationship(source, target);
			
		}
	}
});
	</script>
</polymer-element>